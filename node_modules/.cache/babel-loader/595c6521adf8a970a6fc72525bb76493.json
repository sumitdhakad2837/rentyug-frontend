{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/data/data/com.termux/files/home/projects/rentyug-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';function Description(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),canRate=_useState6[0],setCanRate=_useState6[1];var _useState7=useState(25),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),feed=_useState10[0],addFeed=_useState10[1];useEffect(function(){var url=localStorage.getItem('url');axios.post(url+'productData/',{'productId':props.productId,'Username':localStorage.getItem('user223')}).then(function(res){setData(res.data.data);setProfile(res.data.providerDetail);});},[]);var addNewSmsBox=function addNewSmsBox(provider){var user=localStorage.getItem('user223');if(user===provider)alert('You cannot send message to yourself.');else if(user===null)alert('Please login or signup.');else{var url=localStorage.getItem('url');axios.post(url+'addNewSmsBox/',{'user':user,'provider':provider}).then(function(res){if(res.data.msg){props.afterAddingNewSms(user,provider);}});}};var giveRating=function giveRating(){var user=localStorage.getItem('user223');if(user===null)alert('Please signup or login.');else{var url=localStorage.getItem('url');axios.post(url+'giveRating/',{'user':user,'productId':props.productId,'rating':rating}).then(function(res){if(res.data.msg){alert(res.data.msg);}else{setData(res.data.data);setProfile(res.data.providerDetail);}setCanRate(false);});}};var giveFeed=function giveFeed(){var user=localStorage.getItem('user223');if(feed==='')alert('Feedback should not be empty.');else if(user===null)alert('Please signup or login.');else{var url=localStorage.getItem('url');axios.post(url+'addServiceFeed/',{'user':user,'productId':props.productId,'feed':feed}).then(function(res){setData(res.data.data);setProfile(res.data.providerDetail);addFeed('');});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"Description\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Details\"}),data?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Rating : \",data.Rating]}),canRate?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"50\",value:rating,onChange:function onChange(e){return setRating(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:giveRating,children:\"Rate\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:setCanRate(true),children:\"Give rating\"}),/*#__PURE__*/_jsx(\"h2\",{children:data.ShopName}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Shop Type : \",data.Type.Name]}),/*#__PURE__*/_jsx(\"p\",{children:data.Type.Description}),/*#__PURE__*/_jsxs(\"div\",{className:\"imageSlider\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:data.MainImage,alt:\"product\"})}),data.ServiceImages.map(function(i){return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:i.Image,alt:\"\"})},i.id);})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Open Time : \",data.OpenTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Close Time : \",data.closeTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price Type : \",data.PriceType]}),/*#__PURE__*/_jsxs(\"div\",{className:\"descBox\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:data.Description})]}),profile?/*#__PURE__*/_jsxs(\"div\",{className:\"providerDetail\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Provider details\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Username : @\",profile.User.username]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Address : \",profile.Address]}),/*#__PURE__*/_jsx(\"a\",{href:'tel:'+profile.MobileNo,children:/*#__PURE__*/_jsx(\"button\",{children:\"Call\"})}),/*#__PURE__*/_jsx(\"a\",{href:'sms:'+profile.MobileNo,children:/*#__PURE__*/_jsx(\"button\",{children:\"Direct message\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addNewSmsBox(profile.User.username);},children:\"Message\"})]}):'',/*#__PURE__*/_jsx(\"div\",{className:\"breakpoint\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Feedbacks\"}),data.ServiceFeedback.map(function(f){return/*#__PURE__*/_jsxs(\"div\",{className:\"feed\",children:[/*#__PURE__*/_jsx(\"p\",{children:f.Username}),/*#__PURE__*/_jsx(\"p\",{children:f.Message}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"em\",{children:f.Date})})]},f.id);}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"textarea\",{value:feed,placeholder:\"how service provider can  improve.\",onChange:function onChange(e){return addFeed(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:giveFeed,children:\"give feedback\"})]})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{children:/*#__PURE__*/_jsx(\"i\",{children:\"loading...\"})})})]});}export default Description;","map":{"version":3,"sources":["/data/data/com.termux/files/home/projects/rentyug-frontend/src/Screens/Description.js"],"names":["React","useState","useEffect","axios","Description","props","data","setData","profile","setProfile","canRate","setCanRate","rating","setRating","feed","addFeed","url","localStorage","getItem","post","productId","then","res","providerDetail","addNewSmsBox","provider","user","alert","msg","afterAddingNewSms","giveRating","giveFeed","Rating","e","target","value","ShopName","Type","Name","MainImage","ServiceImages","map","i","Image","id","OpenTime","closeTime","PriceType","User","username","Address","MobileNo","ServiceFeedback","f","Username","Message","Date"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect} from 'react';\nimport axios from 'axios';\n\nfunction Description(props){\n\n\tconst [data, setData] = useState(false);\n\tconst [profile, setProfile] = useState(false);\n\n\tconst [canRate, setCanRate] = useState(false);\n\t\n\tconst [rating, setRating] = useState(25);\n\n\tconst [feed, addFeed] = useState('')\n\n\tuseEffect(()=>{\n\t\tconst url = localStorage.getItem('url');\n\t\taxios.post(url+'productData/',{\n\t\t\t\t\t'productId':props.productId,\n\t\t\t\t\t'Username': localStorage.getItem('user223')\n\t\t\t}).then(res=>{\n\t\t\tsetData(res.data.data);\n\t\t\tsetProfile(res.data.providerDetail);\n\t\t})\n\t},[]);\n\n\n\tconst addNewSmsBox=(provider)=>{\n\t\tconst user = localStorage.getItem('user223');\n\t\tif(user===provider) alert('You cannot send message to yourself.');\n\t\telse if(user===null) alert('Please login or signup.')\n\t\telse{\n\t\t\tconst url = localStorage.getItem('url');\n\t\t\taxios.post(url+'addNewSmsBox/',{\n\t\t\t\t'user':user,\n\t\t\t\t'provider':provider\n\t\t\t}).then(res=>{\n\t\t\t\tif (res.data.msg){\n\t\t\t\t\tprops.afterAddingNewSms(user,provider);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tconst giveRating=()=>{\n\t\tconst user = localStorage.getItem('user223')\n\t\tif(user===null) alert('Please signup or login.');\n\t\telse{\n\t\t\tconst url = localStorage.getItem('url');\n\t\t\taxios.post(url+'giveRating/',{\n\t\t\t\t\t'user':user,\n\t\t\t\t\t'productId':props.productId,\n\t\t\t\t\t'rating':rating\n\t\t\t}).then(res=>{\n\t\t\tif(res.data.msg){\n\t\t\t\talert(res.data.msg);\n\t\t\t}else{\n\t\t\t\tsetData(res.data.data);\n\t\t\t\tsetProfile(res.data.providerDetail);\n\t\t\t}\n\t\t\tsetCanRate(false);\n\t\t\t})\n\t\t}\n\t}\n\n\n\tconst giveFeed=()=>{\n\t\tconst user = localStorage.getItem('user223')\n\t\tif (feed==='') alert('Feedback should not be empty.');\n\t\telse if(user===null) alert('Please signup or login.');\n\t\telse{\n\t\t\tconst url = localStorage.getItem('url');\n\t\t\taxios.post(url+'addServiceFeed/',{\n\t\t\t\t\t\t\t'user':user,\n\t\t\t\t\t\t\t'productId':props.productId,\n\t\t\t\t\t\t\t'feed':feed\n\t\t\t}).then(res=>{\n\t\t\t\tsetData(res.data.data);\n\t\t\t\tsetProfile(res.data.providerDetail);\n\t\t\t\taddFeed('');\n\t\t\t})\n\t\t}\n\t}\n\treturn(\n\t\t<div className='Description'>\n\t\t\t<h1>Details</h1>\n\t\t\t{data?<div>\n\t\t\t\t<h3>Rating : {data.Rating}</h3>\n\n\n\t\t\t\t{canRate?<div>\n\t\t\t\t\t<input type='range' min='0' max='50' value={rating}  \n\t\t\t\t\t\tonChange={e=>setRating(e.target.value)}/><br/>\n\t\t\t\t\t<button onClick={giveRating}>Rate</button>\n\t\t\t\t</div>:<button onClick={setCanRate(true)}>Give rating</button>}\n\n\n\t\t\t\t<h2>{data.ShopName}</h2>\n\t\t\t\t<h6>Shop Type : {data.Type.Name}</h6>\n\t\t\t\t<p>{data.Type.Description}</p>\n\t\t\t\t\n\t\t\t\t<div className='imageSlider'>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<img src={data.MainImage} alt='product'/>\n\t\t\t\t\t</span>\n\t\t\t\t\t{data.ServiceImages.map(i=><span key={i.id}>\n\t\t\t\t\t\t<img src={i.Image} alt=''/>\n\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<p>Open Time : {data.OpenTime}</p>\n\t\t\t\t<p>Close Time : {data.closeTime}</p>\n\t\t\t\t<p>Price Type : {data.PriceType}</p>\n\n\t\t\t\t<div className='descBox'>\n\t\t\t\t\t<h3>Description</h3>\n\t\t\t\t\t<p>{data.Description}</p>\n\t\t\t\t</div>\n\n\t\t\t\t{profile?<div className='providerDetail'>\n\t\t\t\t\t<h1>Provider details</h1>\n\t\t\t\t\t<h3>Username : @{profile.User.username}</h3>\n\t\t\t\t\t<h3>Address : {profile.Address}</h3>\n\t\t\t\t\t<a href={'tel:'+profile.MobileNo}><button>Call</button></a>\n\t\t\t\t\t<a href={'sms:'+profile.MobileNo}><button>Direct message</button></a>\n\t\t\t\t\t<button onClick={()=>addNewSmsBox(profile.User.username)}>Message</button>\n\t\t\t\t</div>:''}\n\n\n\t\t\t\t<div className='breakpoint'></div>\n\t\t\t\t\t<h1>Feedbacks</h1>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t{data.ServiceFeedback.map(f=>{return(\n\t\t\t\t\t<div key={f.id} className='feed'>\n\t\t\t\t\t\t<p>{f.Username}</p>\n\t\t\t\t\t\t<p>{f.Message}</p>\n\t\t\t\t\t\t<p><em>{f.Date}</em></p>\n\t\t\t\t\t</div>\n\t\t\t\t)})}\n\n\t\t\t\t<div>\n\t\t\t\t\t<textarea \n\t\t\t\t\tvalue={feed}\n\t\t\t\t\tplaceholder='how service provider can  improve.'\n\t\t\t\t\tonChange={(e)=>addFeed(e.target.value)}\n\t\t\t\t\t></textarea><br/>\n\t\t\t\t\t<button\n\t\t\t\t\tonClick={giveFeed}\n\t\t\t\t\t>give feedback</button>\n\t\t\t\t</div>\n\t\t\t</div>:<div><h6><i>loading...</i></h6></div>}\n\t\t</div>\n\t)\n}\n\nexport default Description;\n"]},"metadata":{},"sourceType":"module"}