{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/data/data/com.termux/files/home/projects/saveYourTime/frontend/src/Screens/addNewSmsBox.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport MessageCard from '../Components/MessageCard';\nimport MessageBox from './MessageBox';\nimport axios from 'axios';\n\nfunction AddNewSmsBox(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [msgBox, setMsgBox] = useState(false);\n  const [msgingTo, setMsgingTo] = useState('x');\n  useEffect(() => {\n    setMsgingTo(props.provider);\n    axios.post('http://127.0.0.1:8000/messages/', {\n      'Username': localStorage.getItem('user223'),\n      'MessagePartner': props.provider\n    }).then(res => {\n      setMessages(res.data);\n      setMsgBox(true);\n    });\n  }, []);\n\n  const handleClick = msgMan => {\n    setMsgingTo(msgMan);\n    axios.post('http://127.0.0.1:8000/messages/', {\n      'Username': localStorage.getItem('user223'),\n      'MessagePartner': msgMan\n    }).then(res => {\n      setMessages(res.data);\n      setMsgBox(true);\n    });\n  };\n\n  const handleSendingMsg = (msg, msgMan) => {\n    axios.post('http://127.0.0.1:8000/addMessages/', {\n      'SendBy': localStorage.getItem('user223'),\n      'Message': msg,\n      'RecievedBy': msgMan\n    }).then(res => {\n      setMessages(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"MessageScreen\",\n    children: [msgBox ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"MessageBoxOuter\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"cross\",\n        onClick: props.back,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 45\n      }, this), /*#__PURE__*/_jsxDEV(MessageBox, {\n        handleSendingMsg: handleSendingMsg,\n        msgingTo: msgingTo,\n        handleRegularRender: handleClick,\n        data: messages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this) : '', data.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => handleClick(d.MessagePartner),\n      children: /*#__PURE__*/_jsxDEV(MessageCard, {\n        Username: d.Username,\n        Name: d.MessagePartner,\n        Unread: d.UnreadMessages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 77\n      }, this)\n    }, d.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n}\n\n_s(AddNewSmsBox, \"lyfOGjaWfU3Wz0xUFPShcQekCCU=\");\n\n_c = AddNewSmsBox;\nexport default AddNewSmsBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNewSmsBox\");","map":{"version":3,"sources":["/data/data/com.termux/files/home/projects/saveYourTime/frontend/src/Screens/addNewSmsBox.js"],"names":["React","useEffect","useState","MessageCard","MessageBox","axios","AddNewSmsBox","props","data","setData","messages","setMessages","msgBox","setMsgBox","msgingTo","setMsgingTo","provider","post","localStorage","getItem","then","res","handleClick","msgMan","handleSendingMsg","msg","back","map","d","MessagePartner","Username","UnreadMessages","id"],"mappings":"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","sourcesContent":["import React,{ useEffect ,useState} from 'react';\nimport MessageCard from '../Components/MessageCard';\nimport MessageBox from './MessageBox';\nimport axios from 'axios';\n\n\nfunction AddNewSmsBox(props){\n\n\tconst [data, setData] = useState([]);\n\tconst [messages, setMessages] = useState([]);\n\tconst [msgBox, setMsgBox] = useState(false);\n\tconst [msgingTo, setMsgingTo] = useState('x');\n\n\tuseEffect(()=>{\n\t\tsetMsgingTo(props.provider);\n\t\taxios.post('http://127.0.0.1:8000/messages/',{\n\t\t'Username':localStorage.getItem('user223'),\n\t\t'MessagePartner':props.provider\n\t\t}).then(res=>{\n\t\t\tsetMessages(res.data);\n\t\t\tsetMsgBox(true);\n\t\t})\n\t},[]);\n\n\n\tconst handleClick = msgMan=>{\n\t\tsetMsgingTo(msgMan);\n\t\taxios.post('http://127.0.0.1:8000/messages/',{\n\t\t\t'Username':localStorage.getItem('user223'),\n\t\t\t'MessagePartner':msgMan\n\t\t}).then(res=>{\n\t\t\t\tsetMessages(res.data);\n\t\t\t\tsetMsgBox(true);\n\t\t})\n\t}\n\n\tconst handleSendingMsg=(msg,msgMan)=>{\n\t\taxios.post('http://127.0.0.1:8000/addMessages/',{\n\t\t\t'SendBy':localStorage.getItem('user223'),\n\t\t\t'Message':msg,\n\t\t\t'RecievedBy':msgMan\n\t\t}).then(res=>{\n\t\t\tsetMessages(res.data);\n\t\t})\n\t}\n\t\n\treturn(\n\t\t<div className='MessageScreen'>\n\t\t\t{msgBox?<div className='MessageBoxOuter'><h3\n\t\t\tclassName='cross'\n\t\t\tonClick={props.back}>X</h3><MessageBox \n\t\t\thandleSendingMsg={handleSendingMsg}\n\t\t\tmsgingTo={msgingTo}\n\t\t\thandleRegularRender={handleClick}\n\t\t\tdata={messages}/></div>:''}\n\t\t\t\n\t\t\t{data.map(d=><div key={d.id} onClick={()=>handleClick(d.MessagePartner)}><MessageCard \n\t\t\tUsername={d.Username}\n\t\t\tName={d.MessagePartner}\n\t\t\tUnread = {d.UnreadMessages}\n\t\t\t/></div>)}\n\t\t\t\n\t\t</div>\n\t);\n}\n\nexport default AddNewSmsBox;\n"]},"metadata":{},"sourceType":"module"}